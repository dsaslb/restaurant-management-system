{% extends "base.html" %}

{% block content %}
<div class="container mt-4">
    <h2>ğŸ“„ {{ employee.name }}ë‹˜ í‡´ì§/í•´ê³  ë¬¸ì„œ ì‘ì„±</h2>
    
    <div class="card mb-4">
        <div class="card-body">
            <h5 class="card-title">ì§ì› ì •ë³´</h5>
            <p class="card-text">
                <strong>ì´ë¦„:</strong> {{ employee.name }}<br>
                <strong>ê³„ì•½ê¸°ê°„:</strong> {{ contract.start_date.strftime('%Y-%m-%d') }} ~ {{ contract.end_date.strftime('%Y-%m-%d') }}
            </p>
        </div>
    </div>

    <form method="POST" class="needs-validation" novalidate>
        <div class="mb-3">
            <label for="doc_type" class="form-label">ë¬¸ì„œ ì¢…ë¥˜:</label>
            <select name="doc_type" id="doc_type" class="form-select" required>
                <option value="">ì„ íƒí•´ì£¼ì„¸ìš”</option>
                <option value="í‡´ì§ì„œ">í‡´ì§ì„œ (ìì§„ í‡´ì‚¬)</option>
                <option value="í•´ê³ í†µì§€ì„œ">í•´ê³ í†µì§€ì„œ</option>
                <option value="ê³„ì•½í•´ì§€ì„œ">ê³„ì•½ í•´ì§€ ê³„ì•½ì„œ</option>
            </select>
            <div class="invalid-feedback">
                ë¬¸ì„œ ì¢…ë¥˜ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.
            </div>
        </div>

        <div class="mb-3">
            <label for="reason" class="form-label">ì‚¬ìœ :</label>
            <textarea name="reason" id="reason" class="form-control" rows="4" required></textarea>
            <div class="invalid-feedback">
                ì‚¬ìœ ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.
            </div>
        </div>

        <div class="mb-3">
            <label for="effective_date" class="form-label">í‡´ì‚¬/í•´ê³  ì¼ì:</label>
            <input type="date" name="effective_date" id="effective_date" class="form-control" required>
            <div class="invalid-feedback">
                í‡´ì‚¬/í•´ê³  ì¼ìë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.
            </div>
        </div>

        <div class="d-grid gap-2">
            <button type="submit" class="btn btn-primary">ë¬¸ì„œ ìƒì„± ë° ì„œëª… ìš”ì²­</button>
            <a href="{{ url_for('termination.termination_list') }}" class="btn btn-secondary">ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°</a>
        </div>
    </form>
</div>

{% block scripts %}
<script>
// í¼ ìœ íš¨ì„± ê²€ì‚¬
(function () {
    'use strict'
    var forms = document.querySelectorAll('.needs-validation')
    Array.prototype.slice.call(forms).forEach(function (form) {
        form.addEventListener('submit', function (event) {
            if (!form.checkValidity()) {
                event.preventDefault()
                event.stopPropagation()
            }
            form.classList.add('was-validated')
        }, false)
    })
})()
</script>
{% endblock %}
{% endblock %} 